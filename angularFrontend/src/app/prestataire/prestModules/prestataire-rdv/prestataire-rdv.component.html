<div class="container">
  <h2>Appointement List :  <span class="text-warning">InComming</span>  </h2>
  <table class="table table-hover table-bordered">
    <thead>
      <tr>
        <th scope="col">Patient</th>
        <th scope="col">Stat</th>

        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of rdvsD">
        <td>{{ r.patient }}</td>
        <td>{{ r.etat }}</td>
        <td>
          <button class="btn btn-success mr-3" (click)="open(content,r.id)">
            Valider
          </button>
          <button class="btn btn-danger" (click)="DeleteRDV(r.id)">Refuser</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="container">
  <h2>Appointement List : <span class="text-primary"> Accepted </span> </h2>
  <table class="table table-hover table-bordered">
    <thead>
      <tr>
        <th scope="col">Patient</th>
        <th scope="col">Stat</th>
        <th scope="col">Date</th>
        <th scope="col">Start</th>
        <th scope="col">End</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let rv of rdvsV">
        <td>{{ rv.patient }}</td>
        <td>{{ rv.etat }}</td>
        <td>{{ rv.debut }}</td>
        <td>{{ rv.fin }}</td>
        <td>{{ rv.date }}</td>
        <td>
          <button class="btn btn-primary" (click)="openC(consult,rv.id)">Commencer</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>


<div class="container">
  <h2>Appointement List : <span class="text-success">Finished</span>  </h2>
  <table class="table table-hover table-bordered">
    <thead>
      <tr>
        <th scope="col">Patient</th>
        <th scope="col">Stat</th>
        <th scope="col">Date</th>
        <th scope="col">Start</th>
        <th scope="col">End</th>
     
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let rt of rdvsT">
        <td>{{ rt.patient }}</td>
        <td>{{ rt.etat }}</td>
        <td>{{ rt.debut }}</td>
        <td>{{ rt.fin }}</td>
        <td>{{ rt.date }}</td>
      
      </tr>
    </tbody>
  </table>
</div>


<ng-template #content let-modal>
  <form [formGroup]="valideForm" (submit)="ValiderRDV()">
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Appoitment Confirm</h4>
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <input type="time" class="form-control" formControlName="debut" />
      </div>
      <div class="form-group">
        <input type="time" class="form-control" formControlName="fin" />
      </div>
      <div class="form-group">
        <input type="date" class="form-control" formControlName="date" />
      </div>
    </div>
    <div class="modal-footer">
      <button
        type="submit"
        class="btn btn-outline-dark"
       (click)="modal.dismiss('Save click')"
      >
        Save
      </button>
    </div>
  </form>
</ng-template>



<ng-template #consult let-modal>
  <form [formGroup]="consultForm" (submit)="makeConsultation()">
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Consultation</h4>
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label>Notes : </label>
        <textarea  class="form-control" formControlName="remarque" ></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button
        type="submit"
        class="btn btn-outline-dark"
       (click)="modal.dismiss('Save click')"
      >
        Save
      </button>
    </div>
  </form>
</ng-template>


